data(fires)
library(sp)
data(fires)
library(spacetime)
install.packages("spacetime")
data(fires)
library(sp)
data(fires)
setwd("/Users/andywilson1/Documents/GitHub/Olivia-DIA")
library(spacetime)
data(fires)
fires$X <- fires$X*100000
fires$Y <- fires$Y*100000
library(sp)
coordinates(fires) <- c("X", "Y")
proj4string(fires) <- CRS("+init=epsg:2229 +ellps=GRS80")
dates <- as.Date("1960-01-01")+(fires$Time-1)
Fires <- STIDF(as(fires, "SpatialPoints"), dates, data.frame(time=fires$Time))
if (require(rgdal)) {
library(maptools)
library(mapdata)
m <- map("county", "california", xlim=c(-119.1, -117.5),
ylim=c(33.7, 35.0), plot=FALSE)
cc <- spTransform(map2SpatialLines(m,
proj4string=CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84")),
CRS("+init=epsg:2229 +ellps=GRS80"))
plot(cc, xlim=c(6300000, 6670000), ylim=c(1740000, 2120000))
plot(slot(Fires, "sp"), pch=3, add=TRUE)
stplot(Fires, sp.layout=list("sp.lines", cc))
}
require(rgdal)
install.packages("rgdal")
require(rgdal)
if (require(rgdal)) {
library(maptools)
library(mapdata)
m <- map("county", "california", xlim=c(-119.1, -117.5),
ylim=c(33.7, 35.0), plot=FALSE)
cc <- spTransform(map2SpatialLines(m,
proj4string=CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84")),
CRS("+init=epsg:2229 +ellps=GRS80"))
plot(cc, xlim=c(6300000, 6670000), ylim=c(1740000, 2120000))
plot(slot(Fires, "sp"), pch=3, add=TRUE)
stplot(Fires, sp.layout=list("sp.lines", cc))
}
library(maptools)
library(mapdata)
install.packages("mapdata")
if (require(rgdal)) {
library(maptools)
library(mapdata)
m <- map("county", "california", xlim=c(-119.1, -117.5),
ylim=c(33.7, 35.0), plot=FALSE)
cc <- spTransform(map2SpatialLines(m,
proj4string=CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84")),
CRS("+init=epsg:2229 +ellps=GRS80"))
plot(cc, xlim=c(6300000, 6670000), ylim=c(1740000, 2120000))
plot(slot(Fires, "sp"), pch=3, add=TRUE)
stplot(Fires, sp.layout=list("sp.lines", cc))
}
library(sp)
library(gstat)
install.packages("gstat")
library(sp)
library(gstat)
data(meuse)
glimpse(meuse)
library(tidyverse)
library(dplyr)
library(ggplot2)
library(scales) # for "comma"
library(magrittr)
library(leaflet)
library(leaflet.extras)
library(htmlwidgets)
data(meuse)
glimpse(meuse)
meuse %>% as.data.frame %>%
ggplot(aes(x, y)) + geom_point(aes(size=zinc), color="blue", alpha=3/4) +
ggtitle("Zinc Concentration (ppm)") + coord_equal() + theme_bw()
library(maps)
usa <- map("usa", "main", plot = FALSE)
p <- list(data.frame(usa$x, usa$y))
# Create some random data
x <- runif(50, min(p[[1]][,1]), max(p[[1]][,1])) y <- runif(50, min(p[[1]][,2]), max(p[[1]][,2])) z <- rnorm(50)
# Krige and create the map
kriged <- kriging(x, y, z, polygons=p, pixels=300) image(kriged, xlim = extendrange(x), ylim = extendrange(y))
x <- runif(50, min(p[[1]][,1]), max(p[[1]][,1]))
y <- runif(50, min(p[[1]][,2]), max(p[[1]][,2]))
z <- rnorm(50)
usa <- map("usa", "main", plot = FALSE)
p <- list(data.frame(usa$x, usa$y))
x <- runif(50, min(p[[1]][,1]), max(p[[1]][,1]))
p
usa
usa <- map("usa", "main", plot = FALSE)
usa
?krige
WV2018<- read.csv(file = "HPV Data/HPV vaccine/Washington_2018_analysis.csv", na.strings = c("", "NA"))
WV2018
states <- geojsonio::geojson_read("us_state_polygons.json", what = "sp")
counties<- geojsonio::geojson_read("us_county_polygons.json", what = "sp")
head(counties$data)
head(counties)
head(counties@data)
Z<-counties@data
View(Z)
View(WV2018)
Washington <- subset(counties, STATE == "	53")
View(Washington)
Z<-Washington@data
View(Z)
Washington <- subset(counties, STATE == "53")
Z<-Washington@data
View(Z)
View(WV2018)
WV2018 <- WV2018 %>%
rename(NAME = Geography)
WV2018
mydf<- sp::merge(Washington, WV2018 , by="NAME", all=T)
mydf
View(mydf)
plot(mydf)
plot(mydf, col="lightblue")
plot(mydf, col="lightblue", "Title = Washington State (US)")
plot(mydf, col="lightblue", main = "Washington State (US)")
plot(mydf, col="lightblue", main = "Washington State (US)
Counties")
plot(mydf, col="lightblue", lwd=2, main = "Washington State (US)
Counties")
mydf@data
mydf@polygons
points(mydf, pch=1, col='red', cex=1)
